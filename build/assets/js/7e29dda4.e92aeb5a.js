"use strict";(self.webpackChunkwiki=self.webpackChunkwiki||[]).push([[58946],{3905:(t,e,n)=>{n.d(e,{Zo:()=>m,kt:()=>N});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var d=a.createContext({}),k=function(t){var e=a.useContext(d),n=e;return t&&(n="function"==typeof t?t(e):p(p({},e),t)),n},m=function(t){var e=k(t.components);return a.createElement(d.Provider,{value:e},t.children)},o={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},s=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,d=t.parentName,m=i(t,["components","mdxType","originalType","parentName"]),s=k(n),N=r,g=s["".concat(d,".").concat(N)]||s[N]||o[N]||l;return n?a.createElement(g,p(p({ref:e},m),{},{components:n})):a.createElement(g,p({ref:e},m))}));function N(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,p=new Array(l);p[0]=s;var i={};for(var d in e)hasOwnProperty.call(e,d)&&(i[d]=e[d]);i.originalType=t,i.mdxType="string"==typeof t?t:r,p[1]=i;for(var k=2;k<l;k++)p[k]=n[k];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},99974:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>p,default:()=>o,frontMatter:()=>l,metadata:()=>i,toc:()=>k});var a=n(87462),r=(n(67294),n(3905));const l={title:"OpenSSH \u4f7f\u7528\u65b9\u6cd5",description:"OpenSSH \u4f7f\u7528\u65b9\u6cd5",keywords:["OpenSSH","\u4f7f\u7528\u65b9\u6cd5"],tags:["OpenSSH"],sidebar_position:2,author:"7Wate",date:new Date("2023-06-26T00:00:00.000Z")},p=void 0,i={unversionedId:"\u7f51\u7edc\u5b89\u5168/OpenSSH/OpenSSH \u4f7f\u7528\u65b9\u6cd5",id:"\u7f51\u7edc\u5b89\u5168/OpenSSH/OpenSSH \u4f7f\u7528\u65b9\u6cd5",title:"OpenSSH \u4f7f\u7528\u65b9\u6cd5",description:"OpenSSH \u4f7f\u7528\u65b9\u6cd5",source:"@site/wiki/computer-security/\u7f51\u7edc\u5b89\u5168/OpenSSH/OpenSSH \u4f7f\u7528\u65b9\u6cd5.md",sourceDirName:"\u7f51\u7edc\u5b89\u5168/OpenSSH",slug:"/\u7f51\u7edc\u5b89\u5168/OpenSSH/OpenSSH \u4f7f\u7528\u65b9\u6cd5",permalink:"/computer-security/\u7f51\u7edc\u5b89\u5168/OpenSSH/OpenSSH \u4f7f\u7528\u65b9\u6cd5",draft:!1,editUrl:"https://git.7wate.org/zhouzhongping/wiki/src/branch/master/wiki/computer-security/\u7f51\u7edc\u5b89\u5168/OpenSSH/OpenSSH \u4f7f\u7528\u65b9\u6cd5.md",tags:[{label:"OpenSSH",permalink:"/computer-security/tags/open-ssh"}],version:"current",lastUpdatedBy:"7Wate",lastUpdatedAt:1687924611,formattedLastUpdatedAt:"2023\u5e746\u670828\u65e5",sidebarPosition:2,frontMatter:{title:"OpenSSH \u4f7f\u7528\u65b9\u6cd5",description:"OpenSSH \u4f7f\u7528\u65b9\u6cd5",keywords:["OpenSSH","\u4f7f\u7528\u65b9\u6cd5"],tags:["OpenSSH"],sidebar_position:2,author:"7Wate",date:"2023-06-26T00:00:00.000Z"},sidebar:"tutorialSidebar",previous:{title:"OpenSSH \u6982\u8ff0",permalink:"/computer-security/\u7f51\u7edc\u5b89\u5168/OpenSSH/OpenSSH \u6982\u8ff0"},next:{title:"\u7b80\u660e\u6307\u5357",permalink:"/computer-security/\u7f51\u7edc\u5b89\u5168/OpenSSL/\u7b80\u660e\u6307\u5357"}},d={},k=[{value:"\u5165\u95e8",id:"\u5165\u95e8",level:2},{value:"\u4e0b\u8f7d\u548c\u5b89\u88c5",id:"\u4e0b\u8f7d\u548c\u5b89\u88c5",level:3},{value:"\u5b89\u88c5\u9a8c\u8bc1",id:"\u5b89\u88c5\u9a8c\u8bc1",level:3},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"\u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e\u6587\u4ef6",level:3},{value:"\u5e38\u7528\u914d\u7f6e",id:"\u5e38\u7528\u914d\u7f6e",level:3},{value:"\u751f\u6210 SSH \u5bc6\u94a5",id:"\u751f\u6210-ssh-\u5bc6\u94a5",level:3},{value:"\u9632\u706b\u5899\u914d\u7f6e",id:"\u9632\u706b\u5899\u914d\u7f6e",level:3},{value:"\u5de5\u5177",id:"\u5de5\u5177",level:2},{value:"ssh",id:"ssh",level:3},{value:"scp",id:"scp",level:3},{value:"sftp",id:"sftp",level:3},{value:"ssh-keygen",id:"ssh-keygen",level:3},{value:"ssh-agent",id:"ssh-agent",level:3},{value:"ssh-add",id:"ssh-add",level:3},{value:"ssh-keyscan",id:"ssh-keyscan",level:3},{value:"ssh-copy-id",id:"ssh-copy-id",level:3},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:2},{value:"1. \u83b7\u53d6\u670d\u52a1\u5668\u516c\u94a5",id:"1-\u83b7\u53d6\u670d\u52a1\u5668\u516c\u94a5",level:3},{value:"2. \u751f\u6210\u516c\u94a5\u6307\u7eb9",id:"2-\u751f\u6210\u516c\u94a5\u6307\u7eb9",level:3},{value:"3. \u6dfb\u52a0\u516c\u94a5\u5230 known_hosts",id:"3-\u6dfb\u52a0\u516c\u94a5\u5230-known_hosts",level:3},{value:"4. SSH \u767b\u5f55",id:"4-ssh-\u767b\u5f55",level:3}],m={toc:k};function o(t){let{components:e,...n}=t;return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"\u5165\u95e8"},"\u5165\u95e8"),(0,r.kt)("h3",{id:"\u4e0b\u8f7d\u548c\u5b89\u88c5"},"\u4e0b\u8f7d\u548c\u5b89\u88c5"),(0,r.kt)("p",null,"\u5728\u5927\u591a\u6570\u57fa\u4e8e Linux \u7684\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0cOpenSSH \u90fd\u5df2\u7ecf\u9884\u5b89\u88c5\u3002\u5982\u679c\u6ca1\u6709\u53ef\u4ee5\u4f7f\u7528\u7cfb\u7edf\u7684\u5305\u7ba1\u7406\u5668\u8fdb\u884c\u5b89\u88c5\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# \u5728 Ubuntu \u6216 Debian \u4e0a\nsudo apt-get update\nsudo apt-get install openssh-server\n\n# \u5728 CentOS \u6216 Fedora \u4e0a\nsudo yum install openssh-server\nsudo dnf install openssh-server\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"MacOS \u7cfb\u7edf"),"\uff1a\u5728 MacOS \u4e0a\uff0cOpenSSH \u5df2\u7ecf\u9884\u5b89\u88c5\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Windows \u7cfb\u7edf"),"\uff1a\u5728 Windows 10 \u4e0a\uff0c\u4f60\u53ef\u4ee5\u9605\u8bfb\u5b98\u65b9\u6587\u6863\u300a",(0,r.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/zh-cn/windows-server/administration/openssh/openssh_install_firstuse#install-openssh-using-windows-settings"},"\u5b89\u88c5 OpenSSH"),"\u300b")),(0,r.kt)("h3",{id:"\u5b89\u88c5\u9a8c\u8bc1"},"\u5b89\u88c5\u9a8c\u8bc1"),(0,r.kt)("p",null,"\u5982\u679c OpenSSH \u5df2\u7ecf\u6210\u529f\u5b89\u88c5\uff0c\u8fd9\u4e2a\u547d\u4ee4\u5c06\u8f93\u51fa\u4f60\u5b89\u88c5\u7684 OpenSSH \u7248\u672c\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ ssh -V\nOpenSSH_8.4p1 Debian-5+deb11u1, OpenSSL 1.1.1n  15 Mar 2022\n")),(0,r.kt)("h2",{id:"\u914d\u7f6e"},"\u914d\u7f6e"),(0,r.kt)("h3",{id:"\u914d\u7f6e\u6587\u4ef6"},"\u914d\u7f6e\u6587\u4ef6"),(0,r.kt)("p",null,"OpenSSH \u7684\u914d\u7f6e\u6587\u4ef6\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/ssh")," \u76ee\u5f55\u4e2d\uff0c\u4ee5\u4e0b\u662f\u8be5\u76ee\u5f55\u4e2d\u7684\u90e8\u5206\u91cd\u8981\u6587\u4ef6\u53ca\u5176\u529f\u80fd\u7684\u7b80\u8ff0\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"moduli"),"\uff1a\u8be5\u6587\u4ef6\u5305\u542b\u4e86\u7528\u4e8e Diffie-Hellman \u5bc6\u94a5\u4ea4\u6362\u7684\u5927\u7d20\u6570\u7fa4\uff0c\u5b83\u4eec\u7528\u4e8e\u5728\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u5b89\u5168\u5730\u534f\u5546\u51fa\u4e00\u4e2a\u5171\u4eab\u7684\u5bf9\u79f0\u5bc6\u94a5\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ssh_config"),"\uff1a\u8fd9\u662f SSH \u5ba2\u6237\u7aef\u7684\u5168\u5c40\u914d\u7f6e\u6587\u4ef6\uff0c\u5b9a\u4e49\u4e86\u9ed8\u8ba4\u7684 SSH \u5ba2\u6237\u7aef\u884c\u4e3a\u3002\u6bcf\u4e2a\u7528\u6237\u53ef\u4ee5\u5728\u4ed6\u4eec\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"~/.ssh/config")," \u6587\u4ef6\u4e2d\u8986\u76d6\u8fd9\u4e9b\u9ed8\u8ba4\u8bbe\u7f6e\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ssh_config.d"),"\uff1a\u8fd9\u4e2a\u76ee\u5f55\u5305\u542b\u4e86 ssh_config \u6587\u4ef6\u7684\u788e\u7247\uff0c\u8fd9\u4e9b\u788e\u7247\u5728\u52a0\u8f7d ssh_config \u65f6\u4e00\u8d77\u88ab\u8bfb\u53d6\uff0c\u4f7f\u5f97\u914d\u7f6e\u7ba1\u7406\u66f4\u52a0\u6a21\u5757\u5316\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"sshd_config"),"\uff1a\u8fd9\u662f SSH \u670d\u52a1\u5668\u7684\u5168\u5c40\u914d\u7f6e\u6587\u4ef6\uff0c\u5b9a\u4e49\u4e86 SSH \u670d\u52a1\u5668\u7684\u884c\u4e3a\u3002\u53ef\u4ee5\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u8fdb\u884c\u591a\u9879\u8bbe\u7f6e\uff0c\u5982\u5141\u8bb8\u7684\u8eab\u4efd\u9a8c\u8bc1\u65b9\u6cd5\uff0c\u662f\u5426\u5141\u8bb8 root \u767b\u5f55\uff0c\u4f7f\u7528\u7684\u7aef\u53e3\u53f7\u7b49\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"sshd_config.d"),"\uff1a\u7c7b\u4f3c\u4e8e ssh_config.d\uff0c\u8fd9\u4e2a\u76ee\u5f55\u5305\u542b\u4e86 sshd_config \u6587\u4ef6\u7684\u788e\u7247\uff0c\u8fd9\u4e9b\u788e\u7247\u5728\u52a0\u8f7d sshd_config \u65f6\u4e00\u8d77\u88ab\u8bfb\u53d6\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ssh_host_ecdsa_key \u548c ssh_host_ecdsa_key.pub"),"\uff1a\u8fd9\u662f\u670d\u52a1\u5668\u7684 ECDSA \u5bc6\u94a5\u5bf9\u3002\u79c1\u94a5 ",(0,r.kt)("inlineCode",{parentName:"li"},"ssh_host_ecdsa_key")," \u4ee3\u8868\u670d\u52a1\u5668\u7684\u8eab\u4efd\u8bc1\u660e\uff0c\u4e0d\u5e94\u8be5\u88ab\u516c\u5f00\uff0c\u800c\u516c\u94a5 ",(0,r.kt)("inlineCode",{parentName:"li"},"ssh_host_ecdsa_key.pub")," \u5728\u5ba2\u6237\u7aef\u9996\u6b21\u8fde\u63a5\u65f6\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u5c06\u5176\u5b58\u50a8\u4e3a\u5df2\u77e5\u7684\u4e3b\u673a\u5bc6\u94a5\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ssh_host_ed25519_key \u548c ssh_host_ed25519_key.pub"),"\uff1a\u8fd9\u662f\u670d\u52a1\u5668\u7684 Ed25519 \u5bc6\u94a5\u5bf9\uff0c\u5176\u4f5c\u7528\u4e0e ECDSA \u5bc6\u94a5\u5bf9\u76f8\u4f3c\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ssh_host_rsa_key \u548c ssh_host_rsa_key.pub"),"\uff1a\u8fd9\u662f\u670d\u52a1\u5668\u7684 RSA \u5bc6\u94a5\u5bf9\uff0c\u5176\u4f5c\u7528\u4e0e ECDSA \u5bc6\u94a5\u5bf9\u76f8\u4f3c\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ssh_import_id"),"\uff1a\u8be5\u6587\u4ef6\u7528\u4e8e\u5bfc\u5165\u5176\u4ed6\u7cfb\u7edf\u4e2d\u7684\u516c\u94a5\uff0c\u4f8b\u5982\uff0c\u53ef\u4ee5\u4ece GitHub \u4e2d\u5bfc\u5165\u516c\u94a5\u3002")),(0,r.kt)("h3",{id:"\u5e38\u7528\u914d\u7f6e"},"\u5e38\u7528\u914d\u7f6e"),(0,r.kt)("p",null,"OpenSSH \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u6709\u8bb8\u591a\u53ef\u7528\u7684\u9009\u9879\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u8fdb\u884c\u8bbe\u7f6e\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u914d\u7f6e\u7684\u8be6\u7ec6\u4ecb\u7ecd\uff1a"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u914d\u7f6e\u9879"),(0,r.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"),(0,r.kt)("th",{parentName:"tr",align:null},"\u793a\u4f8b"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Port"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5b9a\u4e49 OpenSSH \u670d\u52a1\u5668\u76d1\u542c\u7684\u7aef\u53e3\uff0c\u901a\u5e38\u4e3a 22"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Port 2222"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"PermitRootLogin"),(0,r.kt)("td",{parentName:"tr",align:null},"\u63a7\u5236\u662f\u5426\u5141\u8bb8 root \u7528\u6237\u901a\u8fc7 SSH \u767b\u5f55"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PermitRootLogin no"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"PubkeyAuthentication"),(0,r.kt)("td",{parentName:"tr",align:null},"\u63a7\u5236\u662f\u5426\u5141\u8bb8\u4f7f\u7528\u516c\u94a5\u8ba4\u8bc1"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PubkeyAuthentication yes"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"PasswordAuthentication"),(0,r.kt)("td",{parentName:"tr",align:null},"\u63a7\u5236\u662f\u5426\u5141\u8bb8\u4f7f\u7528\u5bc6\u7801\u8ba4\u8bc1\uff0c\u5982\u679c\u5df2\u4f7f\u7528\u516c\u94a5\u8ba4\u8bc1\uff0c\u53ef\u4ee5\u5173\u95ed\u6b64\u9879\u589e\u52a0\u5b89\u5168\u6027"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PasswordAuthentication no"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"AllowUsers / AllowGroups"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5b9a\u4e49\u5141\u8bb8 SSH \u767b\u5f55\u7684\u7528\u6237\u6216\u7528\u6237\u7ec4"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"AllowUsers user1 user2")," ",(0,r.kt)("inlineCode",{parentName:"td"},"AllowGroups group1 group2"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DenyUsers / DenyGroups"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5b9a\u4e49\u7981\u6b62 SSH \u767b\u5f55\u7684\u7528\u6237\u6216\u7528\u6237\u7ec4\uff0c\u5982\u679c\u7528\u6237\u540c\u65f6\u51fa\u73b0\u5728 Allow \u548c Deny \u5217\u8868\u4e2d\uff0cDeny \u4f18\u5148"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"DenyUsers user3 user4")," ",(0,r.kt)("inlineCode",{parentName:"td"},"DenyGroups group3 group4"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"AuthorizedKeysFile"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5b9a\u4e49\u5b58\u50a8\u7528\u6237\u516c\u94a5\u7684\u6587\u4ef6\u8def\u5f84\uff0c\u7528\u4e8e\u516c\u94a5\u8ba4\u8bc1"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"AuthorizedKeysFile .ssh/authorized_keys"))))),(0,r.kt)("p",null,"\u6bcf\u6b21\u4fee\u6539\u4e86\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u4f60\u90fd\u9700\u8981\u624b\u52a8",(0,r.kt)("strong",{parentName:"p"},"\u91cd\u542f SSH \u670d\u52a1\u6765\u4f7f\u66f4\u6539\u751f\u6548\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"sudo systemctl restart ssh\n")),(0,r.kt)("h3",{id:"\u751f\u6210-ssh-\u5bc6\u94a5"},"\u751f\u6210 SSH \u5bc6\u94a5"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"ssh-keygen")," \u547d\u4ee4\u53ef\u4ee5\u6765\u751f\u6210 SSH \u5bc6\u94a5\u5bf9\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ ssh-keygen -t rsa -b 4096\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/home/sevenwate/.ssh/id_rsa):\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:\nYour identification has been saved in /home/sevenwate/.ssh/id_rsa\nYour public key has been saved in /home/sevenwate/.ssh/id_rsa.pub\nThe key fingerprint is:\nSHA256:pgYyQB1Xcw4eZPtY/7ejynt9u5svQWkiRksKfi4diIo sevenwate@ubuntu\nThe key's randomart image is:\n+---[RSA 4096]----+\n| .....oB .       |\n|.  .. + B o      |\n|.    o = * .   . |\n| .  . o B = . +  |\n| .o..  =S+ o +   |\n|E .o ..oo   . .  |\n|      o.     ..o |\n|     .    .  .oo+|\n|           ++..BO|\n+----[SHA256]-----+\n")),(0,r.kt)("p",null,"\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"~/.ssh/")," \u76ee\u5f55\u4e0b\u751f\u6210\u4e24\u4e2a\u6587\u4ef6\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"id_rsa"),"\uff08\u79c1\u94a5\uff09\u548c ",(0,r.kt)("inlineCode",{parentName:"p"},"id_rsa.pub"),"\uff08\u516c\u94a5\uff09\u3002\u4f60\u53ef\u4ee5\u5c06\u516c\u94a5\u6dfb\u52a0\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"~/.ssh/authorized_keys")," \u6587\u4ef6\u4e2d\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528\u5bc6\u94a5\u5bf9\u8fdb\u884c\u8ba4\u8bc1\u4e86\u3002"),(0,r.kt)("h3",{id:"\u9632\u706b\u5899\u914d\u7f6e"},"\u9632\u706b\u5899\u914d\u7f6e"),(0,r.kt)("p",null,"\u5982\u679c\u670d\u52a1\u5668\u542f\u7528\u4e86\u9632\u706b\u5899\uff0c\u9700\u8981\u670d\u52a1\u5668\u5f00\u653e SSH \u7aef\u53e3\uff08\u9ed8\u8ba4\u4e3a 22\uff09\u624d\u80fd\u63a5\u53d7 SSH \u8fde\u63a5\u3002\u5728\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"iptables")," \u7684\u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"sudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT\n")),(0,r.kt)("h2",{id:"\u5de5\u5177"},"\u5de5\u5177"),(0,r.kt)("h3",{id:"ssh"},"ssh"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ssh")," \u662f\u7528\u4e8e\u8fdc\u7a0b\u767b\u5f55\u6216\u8005\u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u6267\u884c\u547d\u4ee4\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# \u8fdc\u7a0b\u767b\u5f55\n$ ssh [options] [user@]hostname\n# \u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u6267\u884c\u547d\u4ee4\n$ ssh [options] [user@]hostname [command]\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u9009\u9879"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-p <port>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u8fde\u63a5\u670d\u52a1\u5668\u7684\u7aef\u53e3\uff0c\u5982\u679c SSH \u670d\u52a1\u5668\u6ca1\u6709\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 22")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-i <identity_file>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u7528\u4e8e\u8fde\u63a5\u670d\u52a1\u5668\u7684\u79c1\u94a5\u6587\u4ef6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-l <user>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u767b\u5f55\u8fdc\u7a0b\u4e3b\u673a\u7684\u7528\u6237\u540d")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-X")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u542f\u7528 X11 \u8f6c\u53d1\uff0c\u8fd9\u6837\u53ef\u4ee5\u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u8fd0\u884c\u56fe\u5f62\u7a0b\u5e8f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-N")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u4e0d\u6267\u884c\u8fdc\u7a0b\u547d\u4ee4\uff0c\u8fd9\u901a\u5e38\u4e0e ",(0,r.kt)("inlineCode",{parentName:"td"},"-L"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"-D"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"-w")," \u7b49\u9009\u9879\u4e00\u8d77\u4f7f\u7528")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-f")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u540e\u53f0\u8fd0\u884c SSH")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-q")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5b89\u9759\u6a21\u5f0f\uff0c\u4e0d\u663e\u793a\u8fde\u63a5\u3001\u8ba4\u8bc1\u7684\u76f8\u5173\u4fe1\u606f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-v"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"-vv"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"-vvv")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8c03\u8bd5\u6a21\u5f0f\uff0c\u8f93\u51fa\u8be6\u7ec6\u7684\u8c03\u8bd5\u4fe1\u606f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-L <port:host:hostport>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8bbe\u7f6e\u672c\u5730\u7aef\u53e3\u8f6c\u53d1\uff0c\u628a\u672c\u5730\u7684\u67d0\u4e2a\u7aef\u53e3\u7684\u6d41\u91cf\u8f6c\u53d1\u5230\u8fdc\u7a0b\u7684\u67d0\u4e2a\u7aef\u53e3")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-R <port:host:hostport>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8bbe\u7f6e\u8fdc\u7a0b\u7aef\u53e3\u8f6c\u53d1\uff0c\u628a\u8fdc\u7a0b\u7684\u67d0\u4e2a\u7aef\u53e3\u7684\u6d41\u91cf\u8f6c\u53d1\u5230\u672c\u5730\u7684\u67d0\u4e2a\u7aef\u53e3")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-D <[bind_address:]port>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8bbe\u7f6e\u52a8\u6001\u7aef\u53e3\u8f6c\u53d1\uff0c\u521b\u5efa SOCKS \u4ee3\u7406")))),(0,r.kt)("h3",{id:"scp"},"scp"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"scp"),"\u662f\u7528\u4e8e\u5728\u672c\u5730\u4e3b\u673a\u548c\u8fdc\u7a0b\u4e3b\u673a\u4e4b\u95f4\uff0c\u6216\u8005\u4e24\u4e2a\u8fdc\u7a0b\u4e3b\u673a\u4e4b\u95f4\u590d\u5236\u6587\u4ef6\u7684\u547d\u4ee4\u884c\u5de5\u5177\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# \u4ece\u672c\u5730\u590d\u5236\u6587\u4ef6\u5230\u8fdc\u7a0b\u4e3b\u673a\n$ scp [options] source_file user@remote:/path/to/destination\n# \u4ece\u8fdc\u7a0b\u4e3b\u673a\u590d\u5236\u6587\u4ef6\u5230\u672c\u5730\n$ scp [options] user@remote:/path/to/source /path/to/local/destination\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u9009\u9879"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-P <port>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u901a\u8fc7\u6307\u5b9a\u7aef\u53e3\u8fde\u63a5\u5230\u8fdc\u7a0b\u4e3b\u673a")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-p")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u4fdd\u7559\u539f\u6587\u4ef6\u7684\u4fee\u6539\u65f6\u95f4\u548c\u8bbf\u95ee\u65f6\u95f4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-r")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u9012\u5f52\u590d\u5236\uff0c\u7528\u4e8e\u76ee\u5f55\u7684\u590d\u5236")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-v")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8be6\u7ec6\u6a21\u5f0f\uff0c\u663e\u793a\u51fa\u5904\u7406\u8fc7\u7a0b")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-q")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5b89\u9759\u6a21\u5f0f\uff0c\u4e0d\u663e\u793a\u590d\u5236\u8fc7\u7a0b")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-c <cipher>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u52a0\u5bc6\u7b97\u6cd5\uff0c\u5982 aes128-ctr, aes192-ctr, aes256-ctr, arcfour256, arcfour128, etc.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-i <identity_file>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u9009\u62e9\u79c1\u94a5\u6587\u4ef6\uff0c\u7528\u4e8e\u5bc6\u94a5\u8ba4\u8bc1")))),(0,r.kt)("h3",{id:"sftp"},"sftp"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"sftp")," \u662f\u4e00\u4e2a\u7528\u4e8e\u5b89\u5168\u5730\u4f20\u8f93\u6587\u4ef6\u7684\u7f51\u7edc\u534f\u8bae\u3002\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"sftp")," \u547d\u4ee4\u5728\u4f60\u7684\u8ba1\u7b97\u673a\u548c\u8fdc\u7a0b\u670d\u52a1\u5668\u4e4b\u95f4\u4f20\u8f93\u6587\u4ef6\uff0c\u5c31\u50cf\u4f7f\u7528 FTP \u4e00\u6837\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# \u8fde\u63a5\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\n$ sftp [user@]hostname\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u9009\u9879"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-b <batchfile>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u4e00\u4e2a\u6279\u5904\u7406\u6587\u4ef6\u6267\u884c\u4e00\u7cfb\u5217\u7684 sftp \u547d\u4ee4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-C")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u542f\u7528\u538b\u7f29\u529f\u80fd")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-l <limit>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u9650\u5236\u4f7f\u7528\u7684\u5e26\u5bbd\uff0c\u5355\u4f4d\u662f Kbit/s")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-o ssh_option")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u53ef\u4ee5\u6307\u5b9a\u4efb\u4f55 ssh \u547d\u4ee4\u63a5\u53d7\u7684\u9009\u9879")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-P <port>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u8fde\u63a5\u670d\u52a1\u5668\u7684\u7aef\u53e3\uff0c\u5982\u679c SSH \u670d\u52a1\u5668\u6ca1\u6709\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 22")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-R <num_requests>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u5e76\u884c\u8bf7\u6c42\u7684\u6700\u5927\u6570\u91cf")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-s subsystem")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u8981\u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u542f\u52a8\u7684 sftp \u5b50\u7cfb\u7edf")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-v")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u663e\u793a\u8be6\u7ec6\u7684\u8c03\u8bd5\u4fe1\u606f")))),(0,r.kt)("p",null,"\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"sftp")," \u547d\u4ee4\u884c\u754c\u9762\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e00\u7cfb\u5217\u7684\u547d\u4ee4\u6765\u64cd\u4f5c\u6587\u4ef6\uff0c\u6bd4\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},"ls"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"cd"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"get"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"put")," \u7b49\u3002\u8bf7\u6ce8\u610f\uff0c\u867d\u7136\u8fd9\u4e9b\u547d\u4ee4\u548c Unix shell \u4e2d\u7684\u547d\u4ee4\u76f8\u4f3c\uff0c\u4f46\u5b83\u4eec\u5b9e\u9645\u4e0a\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"sftp")," \u547d\u4ee4\u7684\u4e00\u90e8\u5206\uff0c\u53ef\u80fd\u4f1a\u6709\u4e00\u4e9b\u5dee\u5f02\u3002"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u547d\u4ee4"),(0,r.kt)("th",{parentName:"tr",align:null},"\u793a\u4f8b"),(0,r.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ls")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> ls")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5217\u51fa\u8fdc\u7a0b\u76ee\u5f55\u7684\u6587\u4ef6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"cd")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> cd /path/to/remote/directory")),(0,r.kt)("td",{parentName:"tr",align:null},"\u66f4\u6539\u8fdc\u7a0b\u76ee\u5f55")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"lcd")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> lcd /path/to/local/directory")),(0,r.kt)("td",{parentName:"tr",align:null},"\u66f4\u6539\u672c\u5730\u76ee\u5f55")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"pwd")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> pwd")),(0,r.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u5f53\u524d\u8fdc\u7a0b\u76ee\u5f55")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"get")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> get remoteFile")),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0b\u8f7d\u5355\u4e2a\u6587\u4ef6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mget")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> mget remoteFile1 remoteFile2")),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0b\u8f7d\u591a\u4e2a\u6587\u4ef6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"put")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> put localFile")),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0a\u4f20\u5355\u4e2a\u6587\u4ef6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mput")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> mput localFile1 localFile2")),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mkdir")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> mkdir /path/to/remote/directory")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5728\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u521b\u5efa\u76ee\u5f55")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"rmdir")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> rmdir /path/to/remote/directory")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5728\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u5220\u9664\u76ee\u5f55")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"rename")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> rename oldname newname")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5728\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u91cd\u547d\u540d\u6587\u4ef6\u6216\u76ee\u5f55")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"rm")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> rm /path/to/remote/file")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5728\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u5220\u9664\u6587\u4ef6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"bye")," \u3001 ",(0,r.kt)("inlineCode",{parentName:"td"},"exit")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> bye")," \u3001 ",(0,r.kt)("inlineCode",{parentName:"td"},"sftp> exit")),(0,r.kt)("td",{parentName:"tr",align:null},"\u9000\u51fa ",(0,r.kt)("inlineCode",{parentName:"td"},"sftp")," \u4f1a\u8bdd")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"help")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sftp> help")),(0,r.kt)("td",{parentName:"tr",align:null},"\u663e\u793a\u5e2e\u52a9\u4fe1\u606f")))),(0,r.kt)("h3",{id:"ssh-keygen"},"ssh-keygen"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ssh-keygen")," \u662f\u4e00\u4e2a\u7528\u4e8e\u521b\u5efa\u3001\u7ba1\u7406\u548c\u8f6c\u6362\u8ba4\u8bc1\u5bc6\u94a5\u7684\u5de5\u5177\uff0cssh-keygen \u662f OpenSSH \u5957\u4ef6\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# \u4e0d\u5e26\u4efb\u4f55\u53c2\u6570\u8fd0\u884c ssh-keygen \u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 RSA \u5bc6\u94a5\u5bf9\n$ ssh-keygen\n# \u6216\u8005\u4f60\u53ef\u4ee5\u660e\u786e\u6307\u5b9a\u751f\u6210\u5bc6\u94a5\u7684\u7c7b\u578b\u548c\u5bc6\u94a5\u957f\u5ea6\n$ ssh-keygen -t <type> -b <bits>\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u9009\u9879"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-t <type>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u751f\u6210\u6307\u5b9a\u7c7b\u578b\u7684\u5bc6\u94a5\uff0c\u6bd4\u5982 rsa\u3001dsa\u3001ecdsa\u3001ed25519 \u7b49")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-b <bits>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u5bc6\u94a5\u957f\u5ea6\uff0c\u5bf9\u4e8e RSA \u5bc6\u94a5\uff0c\u5efa\u8bae\u81f3\u5c11\u4f7f\u7528 2048 \u4f4d")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-f <filename>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u751f\u6210\u7684\u79c1\u94a5\u6587\u4ef6\u7684\u540d\u79f0\u548c\u4f4d\u7f6e")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-C <comment>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u4e3a\u5bc6\u94a5\u6dfb\u52a0\u6ce8\u91ca\uff0c\u8fd9\u5bf9\u4e8e\u533a\u5206\u5bc6\u94a5\u975e\u5e38\u6709\u5e2e\u52a9")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-N <new_passphrase>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u4e3a\u751f\u6210\u7684\u79c1\u94a5\u8bbe\u7f6e\u4e00\u4e2a\u65b0\u7684\u5bc6\u7801")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-P <old_passphrase>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u63d0\u4f9b\u73b0\u6709\u79c1\u94a5\u7684\u5bc6\u7801\uff0c\u7528\u4e8e\u66f4\u6539\u79c1\u94a5\u7684\u5bc6\u7801\u6216\u8005\u751f\u6210\u65e0\u5bc6\u7801\u79c1\u94a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-y")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8f93\u51fa\u79c1\u94a5\u6587\u4ef6\u5bf9\u5e94\u7684\u516c\u94a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-q")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5b89\u9759\u6a21\u5f0f\uff0c\u4e0d\u8f93\u51fa\u591a\u4f59\u4fe1\u606f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-p")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u66f4\u6539\u73b0\u6709\u79c1\u94a5\u7684\u5bc6\u7801")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-l -f <filename>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u663e\u793a\u6307\u5b9a\u516c\u94a5\u6587\u4ef6\u7684 fingerprint")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-e -f <filename>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u4ee5 RFC4716 SSH \u516c\u94a5\u6587\u4ef6\u683c\u5f0f\u6216\u8005 PEM \u516c\u94a5\u6587\u4ef6\u683c\u5f0f\u8f93\u51fa\u516c\u94a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-i -f <filename>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8bfb\u53d6\u672a\u77e5\u7c7b\u578b\u7684 SSH2 \u6216\u8005 PEM \u516c\u94a5\u6587\u4ef6\uff0c\u8f6c\u6362\u4e3a SSH2 \u516c\u94a5\u6587\u4ef6\u683c\u5f0f")))),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"\u6ce8\u610f\uff0c\u5982\u679c\u4f60\u60f3\u8981\u521b\u5efa\u4e00\u4e2a\u6ca1\u6709\u5bc6\u7801\u7684\u79c1\u94a5\uff0c\u4f60\u53ef\u4ee5\u5728 ",(0,r.kt)("inlineCode",{parentName:"em"},"-N")," \u9009\u9879\u540e\u9762\u7559\u7a7a\uff0c\u6216\u8005\u5728\u8fd0\u884c ",(0,r.kt)("inlineCode",{parentName:"em"},"ssh-keygen")," \u547d\u4ee4\u65f6\u76f4\u63a5\u6309 Enter \u8df3\u8fc7\u8f93\u5165\u5bc6\u7801\u7684\u6b65\u9aa4\u3002")),(0,r.kt)("h3",{id:"ssh-agent"},"ssh-agent"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ssh-agent")," \u662f\u4e00\u4e2a\u5e2e\u52a9\u7ba1\u7406 SSH \u79c1\u94a5\u7684\u7a0b\u5e8f\uff0c\u7528\u4e8e\u4fdd\u5b58\u6240\u6709\u79c1\u94a5\uff0c\u5e76\u5728\u9700\u8981\u8fdb\u884c SSH \u8ba4\u8bc1\u65f6\u63d0\u4f9b\u8fd9\u4e9b\u79c1\u94a5\u3002",(0,r.kt)("inlineCode",{parentName:"p"},"ssh-agent")," \u901a\u8fc7\u5728\u540e\u53f0\u8fd0\u884c\u5e76\u7ef4\u62a4\u4e00\u4e2a\u5df2\u89e3\u9501\u7684\u79c1\u94a5\u5217\u8868\uff0c\u53ef\u4ee5\u8ba9\u4f60\u5728\u4f7f\u7528 SSH \u5ba2\u6237\u7aef\u8fdb\u884c\u591a\u4e2a SSH \u8fde\u63a5\u6216\u64cd\u4f5c\u65f6\u907f\u514d\u9891\u7e41\u8f93\u5165\u5bc6\u7801\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"# \u5728\u540e\u53f0\u542f\u52a8 `ssh-agent`\n$ ssh-agent\n# \u5728\u65b0\u7684 shell \u4e2d\u542f\u52a8 `ssh-agent`\n$ ssh-agent bash\n# \u6740\u6b7b\u5f53\u524d\u8fd0\u884c\u7684 `ssh-agent` \u8fdb\u7a0b\n$ ssh-agent -k\n")),(0,r.kt)("h3",{id:"ssh-add"},"ssh-add"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ssh-add")," \u53ef\u4ee5\u628a\u4f60\u7684\u79c1\u94a5\u6dfb\u52a0\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"ssh-agent")," \u7684\u5bc6\u94a5\u5217\u8868\u4e2d\uff0c\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u907f\u514d\u9891\u7e41\u8f93\u5165\u5bc6\u7801\u3002\u4e00\u65e6\u4f60\u7684\u79c1\u94a5\u88ab\u6dfb\u52a0\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"ssh-agent")," \u4e2d\uff0c\u4f60\u5728\u4f7f\u7528 SSH \u5ba2\u6237\u7aef\u8fdb\u884c\u8ba4\u8bc1\u65f6\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ece ",(0,r.kt)("inlineCode",{parentName:"p"},"ssh-agent")," \u4e2d\u83b7\u53d6\u79c1\u94a5\uff0c\u65e0\u9700\u518d\u624b\u52a8\u8f93\u5165\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# \u5c1d\u8bd5\u6dfb\u52a0\u9ed8\u8ba4\u7684\u79c1\u94a5\n$ ssh-add\n# \u6dfb\u52a0\u6307\u5b9a\u7684\u79c1\u94a5\u6587\u4ef6\n$ ssh-add [options] [file ...]\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u9009\u9879"),(0,r.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-l")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5217\u51fa ",(0,r.kt)("inlineCode",{parentName:"td"},"ssh-agent")," \u4e2d\u6240\u6709\u5df2\u52a0\u8f7d\u7684\u79c1\u94a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-L")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5217\u51fa ",(0,r.kt)("inlineCode",{parentName:"td"},"ssh-agent")," \u4e2d\u6240\u6709\u5df2\u52a0\u8f7d\u7684\u79c1\u94a5\uff0c\u540c\u65f6\u8f93\u51fa\u516c\u94a5\u90e8\u5206")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-d <file>")),(0,r.kt)("td",{parentName:"tr",align:null},"\u4ece ",(0,r.kt)("inlineCode",{parentName:"td"},"ssh-agent")," \u4e2d\u5220\u9664\u6307\u5b9a\u7684\u79c1\u94a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-D")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5220\u9664 ",(0,r.kt)("inlineCode",{parentName:"td"},"ssh-agent")," \u4e2d\u7684\u6240\u6709\u79c1\u94a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-t <life>")),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e3a\u6dfb\u52a0\u7684\u79c1\u94a5\u8bbe\u7f6e\u751f\u5b58\u671f\uff0c\u5355\u4f4d\u662f\u79d2")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-x")),(0,r.kt)("td",{parentName:"tr",align:null},"\u9501\u5b9a ",(0,r.kt)("inlineCode",{parentName:"td"},"ssh-agent"),"\uff0c\u9700\u8981\u5bc6\u7801\u624d\u80fd\u89e3\u9501")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-X")),(0,r.kt)("td",{parentName:"tr",align:null},"\u89e3\u9501 ",(0,r.kt)("inlineCode",{parentName:"td"},"ssh-agent"))))),(0,r.kt)("h3",{id:"ssh-keyscan"},"ssh-keyscan"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ssh-keyscan")," \u662f\u4e00\u4e2a\u65b9\u4fbf\u7684\u5de5\u5177\uff0c\u5b83\u5141\u8bb8\u7528\u6237\u83b7\u53d6\u548c\u7ba1\u7406\u516c\u5f00\u7684 SSH \u5bc6\u94a5\u3002\u5f53\u9700\u8981\u626b\u63cf\u548c\u6536\u96c6\u8fdc\u7a0b\u670d\u52a1\u5668\u7684 SSH \u516c\u94a5\u4ee5\u7528\u4e8e\u4ee5\u540e\u7684\u8eab\u4efd\u9a8c\u8bc1\u65f6\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"ssh-keyscan")," \u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u5de5\u5177\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"ssh-keyscan [options] host [host2] [host3]...\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u9009\u9879"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-t <type>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u8981\u83b7\u53d6\u7684\u5bc6\u94a5\u7c7b\u578b\uff0c\u5982 ",(0,r.kt)("inlineCode",{parentName:"td"},"rsa"),"\u3001",(0,r.kt)("inlineCode",{parentName:"td"},"dsa"),"\u3001",(0,r.kt)("inlineCode",{parentName:"td"},"ecdsa"),"\u3001",(0,r.kt)("inlineCode",{parentName:"td"},"ed25519")," \u7b49")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-p <port>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u8fde\u63a5\u670d\u52a1\u5668\u7684\u7aef\u53e3\uff0c\u5982\u679c SSH \u670d\u52a1\u5668\u6ca1\u6709\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 22")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-T <timeout>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u8bbe\u7f6e\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u79d2")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-v")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u663e\u793a\u8be6\u7ec6\u8f93\u51fa\uff0c\u6709\u52a9\u4e8e\u8c03\u8bd5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-H")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5c06\u7ed3\u679c\u4e2d\u7684\u4e3b\u673a\u540d\u54c8\u5e0c\u5316\uff0c\u8fd9\u53ef\u4ee5\u9632\u6b62\u4e3b\u673a\u540d\u88ab\u4fdd\u5b58\u5728\u5df2\u77e5\u4e3b\u673a\u6587\u4ef6\u4e2d")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-o <file>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5c06\u8f93\u51fa\u5199\u5165\u5230\u6307\u5b9a\u7684\u6587\u4ef6\u4e2d")))),(0,r.kt)("h3",{id:"ssh-copy-id"},"ssh-copy-id"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ssh-copy-id")," \u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u547d\u4ee4\uff0c\u5b83\u53ef\u4ee5\u628a\u4f60\u7684 SSH \u516c\u94a5\u590d\u5236\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\uff0c\u4ee5\u4fbf\u5b9e\u73b0\u65e0\u5bc6\u7801\u767b\u5f55\u3002\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u81ea\u52a8\u5904\u7406\u516c\u94a5\u7684\u5b89\u88c5\u548c\u6743\u9650\u8bbe\u7f6e\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"ssh-copy-id [options] [user@]hostname\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"\u9009\u9879"),(0,r.kt)("th",{parentName:"tr",align:"left"},"\u63cf\u8ff0"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-i <identity_file>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u8981\u590d\u5236\u7684\u8eab\u4efd\u6587\u4ef6\uff0c\u5982\u679c\u4f60\u4e0d\u4f7f\u7528\u9ed8\u8ba4\u7684 ",(0,r.kt)("inlineCode",{parentName:"td"},"~/.ssh/id_rsa.pub"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-p <port>")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u6307\u5b9a\u8fde\u63a5\u670d\u52a1\u5668\u7684\u7aef\u53e3\uff0c\u5982\u679c SSH \u670d\u52a1\u5668\u6ca1\u6709\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 22")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-f")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u5f3a\u5236\u590d\u5236\uff0c\u5373\u4f7f\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u5df2\u7ecf\u5b58\u5728\u76f8\u540c\u7684\u516c\u94a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-n")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u4e0d\u5b9e\u9645\u590d\u5236\u516c\u94a5\uff0c\u800c\u662f\u53ea\u68c0\u67e5\u548c\u663e\u793a\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u7684\u516c\u94a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"-h")),(0,r.kt)("td",{parentName:"tr",align:"left"},"\u663e\u793a\u5e2e\u52a9\u4fe1\u606f")))),(0,r.kt)("h2",{id:"\u4f7f\u7528"},"\u4f7f\u7528"),(0,r.kt)("mermaid",{value:"graph LR\nA[\u5f00\u59cb] --\x3e B{\u83b7\u53d6\u670d\u52a1\u5668\u516c\u94a5}\nB --\x3e C[\u751f\u6210\u516c\u94a5\u6307\u7eb9\u5e76\u9a8c\u8bc1]\nC --\x3e D{\u6dfb\u52a0\u516c\u94a5\u5230 known_hosts}\nD --\x3e E[SSH \u767b\u5f55]\nE --\x3e F[\u7ed3\u675f]"}),(0,r.kt)("h3",{id:"1-\u83b7\u53d6\u670d\u52a1\u5668\u516c\u94a5"},"1. \u83b7\u53d6\u670d\u52a1\u5668\u516c\u94a5"),(0,r.kt)("p",null,"\u4f60\u53ef\u4ee5\u5728\u8fde\u63a5\u524d\u9884\u5148\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"ssh-keyscan")," \u547d\u4ee4\u6765\u83b7\u53d6\u670d\u52a1\u5668\u7684\u516c\u94a5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"ssh-keyscan hostname >> hostname.pub\n")),(0,r.kt)("p",null,"\u8fd9\u5c06\u628a\u670d\u52a1\u5668\u7684\u516c\u94a5\u4fdd\u5b58\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"hostname.pub")," \u6587\u4ef6\u4e2d\u3002",(0,r.kt)("strong",{parentName:"p"},"\u8bb0\u4f4f\uff0c\u8fd9\u4e2a\u6b65\u9aa4\u662f\u53ef\u9009\u7684"),"\uff0c\u5982\u679c\u4f60\u9009\u62e9\u76f4\u63a5 SSH \u8fde\u63a5\u5230\u670d\u52a1\u5668\uff0cSSH \u5ba2\u6237\u7aef\u5c06\u4f1a\u5728\u521d\u6b21\u8fde\u63a5\u65f6\u81ea\u52a8\u83b7\u53d6\u670d\u52a1\u5668\u7684\u516c\u94a5\u3002"),(0,r.kt)("h3",{id:"2-\u751f\u6210\u516c\u94a5\u6307\u7eb9"},"2. \u751f\u6210\u516c\u94a5\u6307\u7eb9"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"ssh-keygen")," \u547d\u4ee4\u751f\u6210\u516c\u94a5\u7684\u6307\u7eb9\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"ssh-keygen -lf hostname.pub\n")),(0,r.kt)("p",null,"\u8fd9\u5c06\u8f93\u51fa\u516c\u94a5\u7684\u6307\u7eb9\uff0c\u4f60\u9700\u8981\u901a\u8fc7\u4e00\u4e2a\u5b89\u5168\u7684\u6e20\u9053\uff08\u4f8b\u5982\uff0c\u901a\u8fc7 HTTPS \u7684\u7f51\u7ad9\u6216\u8005\u7535\u8bdd\u7b49\uff09\u83b7\u53d6\u670d\u52a1\u5668\u7ba1\u7406\u5458\u63d0\u4f9b\u7684\u516c\u94a5\u6307\u7eb9\uff0c\u7136\u540e\u624b\u52a8",(0,r.kt)("strong",{parentName:"p"},"\u6bd4\u5bf9\u8fd9\u4e24\u4e2a\u6307\u7eb9\u662f\u5426\u4e00\u81f4"),"\u3002\u5982\u679c\u4e24\u8005\u4e00\u81f4\uff0c\u4f60\u53ef\u4ee5\u786e\u8ba4\u4f60\u5c06\u8981\u8fde\u63a5\u7684\u662f\u6b63\u786e\u7684\u670d\u52a1\u5668\u3002\u5426\u5219\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u53ef\u80fd\u5b58\u5728\u4e2d\u95f4\u4eba\u653b\u51fb\u7684\u98ce\u9669\u3002")),(0,r.kt)("h3",{id:"3-\u6dfb\u52a0\u516c\u94a5\u5230-known_hosts"},"3. \u6dfb\u52a0\u516c\u94a5\u5230 known_hosts"),(0,r.kt)("p",null,"\u4e00\u65e6\u9a8c\u8bc1\u4e86\u670d\u52a1\u5668\u7684\u516c\u94a5\u6307\u7eb9\uff0c\u4f60\u53ef\u4ee5\u628a\u516c\u94a5\u6dfb\u52a0\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"~/.ssh/known_hosts")," \u6587\u4ef6\u4e2d\uff0c\u8fd9\u6837\u5728\u4e0b\u6b21\u8fde\u63a5\u65f6\uff0cSSH \u5ba2\u6237\u7aef\u5c31\u53ef\u4ee5\u81ea\u52a8\u9a8c\u8bc1\u670d\u52a1\u5668\u7684\u516c\u94a5\u4e86\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"ssh-keyscan hostname >> ~/.ssh/known_hosts\n")),(0,r.kt)("h3",{id:"4-ssh-\u767b\u5f55"},"4. SSH \u767b\u5f55"),(0,r.kt)("p",null,"\u5728\u516c\u94a5\u9a8c\u8bc1\u6210\u529f\u540e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 SSH \u547d\u4ee4\u8fdb\u884c\u767b\u5f55\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"ssh username@example.com\n")),(0,r.kt)("p",null,"\u5728\u767b\u5f55\u8fc7\u7a0b\u4e2d\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u8f93\u5165\u7528\u6237\u7684\u5bc6\u7801\uff0c\u6216\u8005\u5982\u679c\u4f60\u5df2\u7ecf\u8bbe\u7f6e\u4e86 SSH \u5bc6\u94a5\u5bf9\uff0c\u90a3\u4e48\u53ef\u80fd\u9700\u8981\u8f93\u5165\u79c1\u94a5\u7684\u5bc6\u7801\u3002"),(0,r.kt)("p",null,"\u8bf7\u6ce8\u610f\uff0c\u6240\u6709\u8fd9\u4e9b\u6b65\u9aa4\u90fd\u662f\u4e3a\u4e86",(0,r.kt)("strong",{parentName:"p"},"\u786e\u4fdd\u4f60\u5728 SSH \u8fde\u63a5\u4e2d\u7684\u5b89\u5168"),"\uff0c\u901a\u8fc7\u9884\u5148\u9a8c\u8bc1\u670d\u52a1\u5668\u7684\u516c\u94a5\uff0c",(0,r.kt)("strong",{parentName:"p"},"\u53ef\u4ee5\u6709\u6548\u9632\u6b62\u4e2d\u95f4\u4eba\u653b\u51fb\u3002"),"\u7136\u800c\uff0c\u8fd9\u5e76\u4e0d\u80fd\u66ff\u4ee3\u5176\u4ed6\u7684\u5b89\u5168\u63aa\u65bd\uff0c\u5982\u4f7f\u7528\u5f3a\u5bc6\u7801\u3001\u5b9a\u671f\u66f4\u65b0\u5bc6\u7801\u3001\u4f7f\u7528\u9632\u706b\u5899\u548c IDS \u7b49\u3002"))}o.isMDXComponent=!0}}]);