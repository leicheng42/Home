<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-operating-system docs-doc-id-Linux/进阶/Linux 系统安全与防护">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Linux 系统安全与防护 | Lei Cheng&#x27;s HomePage</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.leicheng42.com/operating-system/Linux/进阶/Linux 系统安全与防护"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-operating-system-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-operating-system-current"><meta data-rh="true" property="og:title" content="Linux 系统安全与防护 | Lei Cheng&#x27;s HomePage"><meta data-rh="true" name="description" content="Linux 系统安全与防护"><meta data-rh="true" property="og:description" content="Linux 系统安全与防护"><meta data-rh="true" name="keywords" content="Linux,系统安全,安全防护"><link data-rh="true" rel="icon" href="/img/avatar.jpg"><link data-rh="true" rel="canonical" href="https://www.leicheng42.com/operating-system/Linux/进阶/Linux 系统安全与防护"><link data-rh="true" rel="alternate" href="https://www.leicheng42.com/operating-system/Linux/进阶/Linux 系统安全与防护" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://www.leicheng42.com/operating-system/Linux/进阶/Linux 系统安全与防护" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YN0RH7UG4B-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Lay`s Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Lay`s Blog Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Lay`s Blog JSON Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Lei Cheng&#39;s HomePage" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.a4f24b4d.css">
<link rel="preload" href="/assets/js/runtime~main.5d1b5b77.js" as="script">
<link rel="preload" href="/assets/js/main.45c06b54.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">🏠 Lay 的主页</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">📝 博客</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><b>🏠 Lay 的主页</b></a><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/operating-system/">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/operating-system/category/文化">Linux</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/operating-system/category/文化">文化</a><button aria-label="打开/收起侧边栏菜单「文化」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/operating-system/category/基础">基础</a><button aria-label="打开/收起侧边栏菜单「基础」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/operating-system/category/进阶">进阶</a><button aria-label="打开/收起侧边栏菜单「进阶」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/operating-system/Linux/进阶/Linux 系统管理">Linux 系统管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/operating-system/Linux/进阶/Linux 文件系统">Linux 文件系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/operating-system/Linux/进阶/Linux 网络配置">Linux 网络配置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/operating-system/Linux/进阶/Linux 日志监控">Linux 日志监控</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/operating-system/Linux/进阶/Linux 系统安全与防护">Linux 系统安全与防护</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Linux 系统安全与防护</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="基本概念和原则">基本概念和原则<a href="#基本概念和原则" class="hash-link" aria-label="基本概念和原则的直接链接" title="基本概念和原则的直接链接">​</a></h2><p>系统安全的基本目标是保护信息系统的可用性，确保数据的机密性和完整性，同时预防、检测和应对各种形式的威胁。这涵盖了多个层次，包括物理安全、网络安全、操作系统安全、应用安全以及人为因素等。其核心的目标是防止未经授权的访问、使用、披露、破坏、修改、检查或干扰。</p><p>理解系统安全的关键原则是掌握其核心理念，并将其应用于实际安全策略和操作中。以下是一些基本原则：</p><ol><li><strong>最小权限原则</strong>：只给用户或程序足够的权限，让他们完成任务，无需多余的权限。这样如果有人或某程序想要滥用权限，他们的破坏范围也会被限制在最小。</li><li><strong>防御深度原则</strong>：在系统的每一层都设置防御措施，从物理设备到网络，再到软件。这样如果有人攻击，他们需要一层一层地突破防线，增加了攻击的难度。</li><li><strong>故障隔离原则</strong>：如果系统的一部分出现问题，其他部分不会受到影响。这样可以防止问题扩大化，保护整个系统的稳定。</li><li><strong>开放性设计原则</strong>：不通过隐藏信息来保证系统安全，而是通过优秀的设计和实现来保护系统。哪怕攻击者知道系统的全部信息，也找不到破绽。</li><li><strong>安全生命周期管理原则</strong>：从设计到废弃，整个过程都要考虑安全性。每一步都不能忽视，否则可能会留下安全隐患。</li><li><strong>复杂性是敌人原则</strong>：系统越复杂，安全隐患就越多，也越难管理。所以应该尽量使系统简单，避免不必要的复杂性。</li><li><strong>默认拒绝原则</strong>：除非明确允许，否则一律拒绝。这样可以避免未知的威胁，增强系统的安全性。</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常见的威胁和攻击">常见的威胁和攻击<a href="#常见的威胁和攻击" class="hash-link" aria-label="常见的威胁和攻击的直接链接" title="常见的威胁和攻击的直接链接">​</a></h2><p>在我们的日常生活中，信息系统可能会面临各种形式的威胁和攻击。以下是对常见的威胁和攻击类型进行的详细解释：</p><ol><li><strong>恶意软件（Malware）</strong>：这是一个广泛的类别，包括许多类型的恶意软件。其中包括：<ul><li><strong>病毒</strong>：这是一种自我复制的恶意代码，它可以附着在其他程序上，并在这些程序运行时执行。病毒可能会删除或修改文件，或者对系统造成其他形式的破坏。</li><li><strong>蠕虫</strong>：蠕虫与病毒类似，都是自我复制的恶意代码。然而，与病毒不同的是，蠕虫可以自我复制并在网络中传播，无需附着在其他程序上。</li><li><strong>特洛伊木马</strong>：这是一种伪装成合法程序的恶意软件，它可以提供一个后门，让攻击者远程控制受感染的计算机。</li><li><strong>勒索软件</strong>：这种类型的恶意软件会对用户的文件或系统进行加密，并要求用户支付赎金以获取解密密钥。近年来，勒索软件的使用日益普遍，并已对许多个人和组织造成了重大影响。</li></ul></li><li><strong>网络攻击</strong>：这个类别包括各种利用网络进行的攻击：<ul><li><strong>分布式拒绝服务（DDoS）</strong>：这种攻击涉及使用大量的计算机（通常是通过恶意软件感染的计算机组成的僵尸网络）向目标发送大量的网络流量，从而使目标的网络服务变得不可用。</li><li><strong>嗅探</strong>：这种攻击涉及监听网络通信，以窃取敏感信息，如密码或信用卡号。</li><li><strong>欺骗</strong>：这种攻击涉及伪装成另一个系统或用户，以获取敏感信息或进行其他形式的欺诈行为。</li><li><strong>会话劫持</strong>：这种攻击涉及接管用户的网络会话，以便在没有用户知情的情况下代替用户进行操作。</li></ul></li><li><strong>身份欺诈和权限提升</strong>：这个类别的攻击涉及尝试以某种方式绕过系统的认证机制：<ul><li><strong>身份欺诈</strong>：这种攻击涉及伪装成另一个用户，以获得其在系统中的权限。这通常涉及某种形式的密码破解或欺骗。</li><li><strong>权限提升</strong>：这种攻击涉及利用系统的漏洞或配置错误，以提升攻击者在系统中的权限。这通常涉及利用系统或应用程序的漏洞。</li></ul></li><li><strong>社会工程攻击</strong>：这个类别的攻击涉及利用人类的信任和习惯进行欺骗：<ul><li><strong>钓鱼攻击</strong>：这种攻击涉及发送伪装成来自合法组织（如银行或邮件服务商）的电子邮件，以诱使用户提供他们的用户名和密码。</li><li><strong>预言攻击</strong>：这种攻击涉及利用用户的可预测性（如使用弱密码或在多个网站使用同一密码）来猜测他们的密码。</li><li><strong>垃圾邮件</strong>：这种攻击涉及发送大量的垃圾邮件，以诱使用户点击恶意链接，或提供他们的个人信息。</li></ul></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="linux-安全性设置和机制">Linux 安全性设置和机制<a href="#linux-安全性设置和机制" class="hash-link" aria-label="Linux 安全性设置和机制的直接链接" title="Linux 安全性设置和机制的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="selinux">SELinux<a href="#selinux" class="hash-link" aria-label="SELinux的直接链接" title="SELinux的直接链接">​</a></h3><p>SELinux（Security-Enhanced Linux）是一个强大的 Linux 内核安全模块，用于实现访问控制安全策略。它通过强制访问控制（MAC）限制用户和进程对系统资源的访问，从而提高系统安全性。</p><p>SELinux 的起源可以追溯到 1998 年，当时美国国家安全局（NSA）与安全系统研究小组（SFR）共同开发了一个名为 Flask 的安全架构。该架构的目标是为操作系统提供一种强大且灵活的访问控制机制。在 2000 年，NSA 将 Flask 架构集成到 Linux 内核中，从而诞生了 SELinux。</p><p>SELinux 的开发过程受到了开源社区的广泛支持。Red Hat 在 2003 年发布的 Red Hat Enterprise Linux 4（RHEL 4）中首次将 SELinux 作为默认安全模块。此后，许多其他 Linux 发行版，如 CentOS、Fedora 和 Gentoo，也开始支持 SELinux。</p><p>SELinux 的实现是通过 Linux 内核安全模块（LSM）框架，这使得内核能够支持额外的安全策略。在 SELinux 中，安全策略和安全上下文标签用于对进程和对象进行访问控制。这种访问控制不仅基于传统的 UNIX 文件权限，也考虑了诸如进程类型、文件类型等其他因素，从而提供更强大的安全保护。同时，SELinux 的安全策略规则集定义了允许的操作、角色和类型。这些规则集能够提供详尽的权限设置，进一步强化了系统的安全性。</p><p>SELinux 目前的发展方向主要集中在以下几个方面：</p><ol><li><strong>提高安全性：</strong>SELinux 将继续优化安全策略，提高系统安全性。例如，通过引入更多安全策略类型，如基于属性的访问控制（ABAC），以满足不断变化的安全需求。</li><li><strong>简化配置和管理：</strong>尽管 SELinux 的学习曲线较陡，但它将继续努力简化安全策略的配置和管理，以便降低使用门槛。</li><li><strong>性能优化：</strong>SELinux 将持续改进性能，以减轻其对系统性能的影响，同时确保高度安全性。</li><li><strong>社区合作与支持：</strong>SELinux 将继续与开源社区合作，共同推动 Linux 安全模块的发展和完善。此外，它将继续提供支持和培训，帮助用户更好地理解和应用 SELinux。</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="运行模式">运行模式<a href="#运行模式" class="hash-link" aria-label="运行模式的直接链接" title="运行模式的直接链接">​</a></h4><p><strong>SELinux 的运行模式主要有两种，Targeted 和 Strict。</strong>在 Targeted 模式中，只有被标记为需要保护的进程会受到 SELinux 的管控，其余的进程则运行在传统的 Linux 访问控制下。而在 Strict 模式下，所有的进程都会受到 SELinux 的管控。这两种模式提供了灵活性，使得用户可以根据他们的具体需求选择适合的模式。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="优缺点">优缺点<a href="#优缺点" class="hash-link" aria-label="优缺点的直接链接" title="优缺点的直接链接">​</a></h4><ol><li>提供详细的安全策略和访问控制，支持多种安全策略，如基于角色的访问控制（RBAC）和类型强制访问控制（TE）等。</li><li>通过强制访问控制（MAC）限制用户和进程对系统资源的访问，从而提高系统安全性。</li><li>被广泛应用于许多 Linux 发行版，如 <strong>Red Hat Enterprise Linux (RHEL)、CentOS 和 Fedora 等。</strong></li><li>完全集成在内核中，提供强大的安全保护。</li></ol><p><strong>SELinux 的缺点包括配置和学习复杂，性能开销较大</strong>。因此，<strong>它更适用于高度安全要求的环境，如政府、金融和敏感数据处理等场景。</strong>在这些场合，SELinux 能够提供强大且灵活的安全策略，以满足不同的安全需求。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用命令">常用命令<a href="#常用命令" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h4><ol><li>Enforcing：在此模式下，<strong>SELinux 会执行所有安全策略并强制访问控制。</strong>如果发现违反了安全策略，SELinux 将阻止访问并在审计日志中记录相关信息。这是 SELinux 的默认模式，旨在提供最高级别的系统安全保护。</li><li>Permissive：在此模式下，<strong>SELinux 不会阻止任何违反安全策略的操作，但仍会在审计日志中记录违规行为。</strong>这种模式通常用于调试和排错，因为它允许管理员了解哪些操作可能被阻止，同时不会对系统造成实际影响。</li><li>Disabled：在此模式下，<strong>SELinux 完全禁用，不会执行任何安全策略。</strong>所有操作都将按照传统的 Linux 访问控制（如文件权限和所有者）进行，而不受 SELinux 的影响。这种模式可能会降低系统安全性，因此不推荐在生产环境中使用。</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 显示当前 SELinux 状态和概述</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> sestatus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 显示当前 SELinux 模式（enforcing, permissive, disabled）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> getenforce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置 SELinux 模式（0 = permissive, 1 = enforcing）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> setenforce </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 更改文件或目录的 SELinux 上下文</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> chcon -t httpd_sys_content_t /var/www/html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 恢复文件或目录的默认 SELinux 上下文</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> restorecon -Rv /var/www/html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 管理 SELinux 的配置、布尔值、上下文等</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> semanage fcontext -a -t httpd_sys_content_t </span><span class="token string" style="color:#e3116c">&quot;/var/www/html(/.*)?&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 搜索和分析 SELinux 的审计日志</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ausearch -m AVC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 从审计日志生成 SELinux 策略模块</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> audit2allow -a -M my_new_module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 管理 SELinux 策略模块</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> semodule -i my_new_module.pp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="apparmor">AppArmor<a href="#apparmor" class="hash-link" aria-label="AppArmor的直接链接" title="AppArmor的直接链接">​</a></h3><p>AppArmor（Application Armor）是一种 Linux 安全模块，目标是保护应用程序免受潜在威胁。AppArmor 通过强制访问控制（MAC）限制应用程序对系统资源的访问，以此增强系统的安全性。AppArmor 的安全策略配置相对简单，易于理解和配置，这主要得益于它基于路径的访问控制方式。</p><p>AppArmor 于 1998 年诞生，最初由 Immunix 公司开发，旨在为 Linux 系统提供一个易于管理且高效的安全解决方案。2005 年，Novell 收购了 Immunix 公司，并在同年将 AppArmor 开源。从那时起，AppArmor 成为了一个独立的开源项目，吸引了众多开发者和维护者的加入。</p><p>2007 年，AppArmor 成为 Ubuntu 7.10（Gutsy Gibbon）的默认安全模块。之后，其他 Linux 发行版，如 openSUSE 和 Debian，也开始支持 AppArmor。作为一种与 SELinux 并行的 Linux 安全模块，AppArmor 在易用性和性能上表现出了明显的优势，这使得它在个人电脑和服务器领域得到了广泛应用。</p><p>AppArmor 的实现是通过 Linux 内核安全模块（LSM）框架，这使得内核能够支持额外的安全策略。在 AppArmor 中，基于路径的访问控制策略被用来控制应用程序的访问权限。此外，通过简单的文本策略文件，AppArmor 可以定义允许的操作、文件访问权限等，进一步简化了策略配置和管理。</p><p>AppArmor 目前的发展方向主要集中在以下几个方面：</p><ol><li><strong>简化策略配置和管理：</strong>AppArmor 将继续简化安全策略的配置和管理，使其更易于使用和部署。</li><li><strong>提升性能：</strong>AppArmor 会持续优化其性能，以满足日益增长的系统安全需求，并尽量减少性能开销。</li><li><strong>扩展功能和支持：</strong>AppArmor 将继续扩展其功能，支持更多的 Linux 发行版和应用场景。同时，也可能引入新的安全机制，以增强其安全性能。</li><li>社区合作：AppArmor 将继续与开源社区紧密合作，共同推动 Linux 安全模块的发展和完善。</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="优缺点-1">优缺点<a href="#优缺点-1" class="hash-link" aria-label="优缺点的直接链接" title="优缺点的直接链接">​</a></h4><ol><li><strong>策略配置相对简单：</strong>AppArmor 的访问控制策略基于路径，这使得策略配置易于理解和配置。</li><li><strong>增强系统安全性</strong>：通过限制应用程序对文件系统和其他资源的访问，AppArmor 能够有效增强系统的安全性。</li><li><strong>广泛应用于各种 Linux 发行版</strong>：AppArmor 已被多种 Linux 发行版如 Ubuntu、openSUSE 和 Debian 所支持和使用。</li><li><strong>策略隔离良好</strong>：AppArmor 可以针对单个应用程序进行策略配置，从而实现策略的隔离。</li><li><strong>低性能开销</strong>：相较于其它一些安全模块，AppArmor 的性能开销较低。</li></ol><p>虽然 AppArmor 在许多方面表现出色，但它也存在一些缺点。例如，其安全策略相对简单，可能无法满足某些高度安全要求的场景。另外，AppArmor 不支持基于角色的访问控制。因此，<strong>AppArmor 更适合于安全要求一般的环境，例如个人电脑和服务器等场景。</strong>在这些场景中，AppArmor 可以提供简单而实用的安全策略，帮助用户有效地保护系统资源和数据。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用命令-1">常用命令<a href="#常用命令-1" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 显示当前 AppArmor 状态和概述</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> apparmor_status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置指定配置文件为强制模式（enforce）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> aa-enforce /etc/apparmor.d/usr.bin.firefox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 设置指定配置文件为投诉模式（complain）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> aa-complain /etc/apparmor.d/usr.bin.firefox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 禁用指定配置文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> aa-disable /etc/apparmor.d/usr.bin.firefox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 生成指定程序的 AppArmor 配置文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> aa-genprof /usr/bin/firefox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 分析日志，根据需求更新 AppArmor 配置文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> aa-logprof</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 自动生成 AppArmor 配置文件的依赖项</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> aa-autodep /usr/bin/firefox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 清理无用的配置文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> aa-cleanprof</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 列出未受 AppArmor 限制的进程</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> aa-unconfined</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="selinux-与-apparmor-对比">SELinux 与 AppArmor 对比<a href="#selinux-与-apparmor-对比" class="hash-link" aria-label="SELinux 与 AppArmor 对比的直接链接" title="SELinux 与 AppArmor 对比的直接链接">​</a></h3><p>SELinux（Security-Enhanced Linux）和 AppArmor（Application Armor）都是为 Linux 系统设计的安全模块，用于实现访问控制安全策略，以增强系统安全性。尽管它们都提供了用于增强系统安全性的强制访问控制（MAC）机制，但每个框架都有其自己的优点和缺点，使其适用于不同的场景。</p><p>以下是 SELinux 和 AppArmor 的一些主要对比点：</p><table><thead><tr><th>特性 / 安全模块</th><th>SELinux</th><th>AppArmor</th></tr></thead><tbody><tr><td>优点</td><td>详细的安全策略和访问控制；支持多种安全策略</td><td>策略配置简单；基于路径的访问控制；较低的性能开销</td></tr><tr><td>缺点</td><td>配置和学习复杂；性能开销较大</td><td>安全策略相对简单；不支持基于角色的访问控制</td></tr><tr><td>适用场景</td><td>高度安全要求的环境，例如军事或政府机构</td><td>一般安全要求的环境，例如个人电脑和服务器等</td></tr><tr><td>发行版本</td><td><strong>RHEL、CentOS、Fedora 等</strong></td><td><strong>Ubuntu、openSUSE、Debian 等</strong></td></tr><tr><td>学习曲线</td><td>陡峭，需要深入理解 SELinux 的安全策略</td><td>平缓，基于路径的策略使得配置更为简单</td></tr><tr><td>性能影响</td><td>可能较大，尤其是在处理大量文件访问时</td><td>通常较小，对性能的影响比 SELinux 小</td></tr><tr><td>策略灵活性</td><td>高，支持多种类型的安全策略，包括 RBAC 和 MLS</td><td>较低，主要支持基于路径的访问控制</td></tr><tr><td>支持的访问控制</td><td>支持类型强制、角色基础访问控制和多级安全</td><td>主要是基于路径的访问控制</td></tr><tr><td>安全策略管理</td><td>涉及许多配置文件，策略更复杂</td><td>使用简单的文本策略文件，更易于管理和配置</td></tr></tbody></table><p>总的来说，选择 SELinux 还是 AppArmor 取决于特定的需求和环境。如果需要一个强大而精细的安全策略，那么 SELinux 可能是更好的选择。然而，如果优先考虑易用性和性能，那么 AppArmor 可能更适合。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tcp-wrappers">TCP Wrappers<a href="#tcp-wrappers" class="hash-link" aria-label="TCP Wrappers的直接链接" title="TCP Wrappers的直接链接">​</a></h3><p>TCP Wrappers（TCP 包装器）是一个开源的网络服务请求过滤系统，用于实现主机基础的网络访问控制列表（ACL）。它通过使用访问控制文件来限制客户端对服务器资源的访问，进而增强服务器的安全性。</p><p>TCP Wrappers 最初由 Wietse Venema 开发，目的是提供一种简单的保护方式，能防止未经授权的访问者对服务器的潜在威胁。这个系统在网络管理员中非常受欢迎，因为它提供了一种简单有效的方式，用于监控和限制对网络服务的访问。</p><p>TCP Wrappers 的核心功能包括访问控制和日志记录：</p><ol><li><strong>访问控制</strong>：TCP Wrappers 可以定义哪些主机或主机组能够访问服务器的某个特定服务。例如，你可以设置一个规则，仅允许来自特定 IP 地址的用户访问你的 SSH 服务。这种访问控制功能通过两个配置文件实现：/etc/hosts.allow 和 /etc/hosts.deny。当一个来自远程主机的请求尝试连接服务器的服务时，TCP Wrappers 会首先查看这两个文件，以确定是否允许或拒绝该连接。</li><li><strong>日志记录</strong>：除了访问控制，TCP Wrappers 也可以记录有关远程主机尝试连接服务器的信息。这些日志对于审计、问题诊断和网络管理都非常有用。如果发现有可疑的活动，网络管理员可以快速查看日志，以确定发生了什么，并采取相应的行动。</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="优缺点-2">优缺点<a href="#优缺点-2" class="hash-link" aria-label="优缺点的直接链接" title="优缺点的直接链接">​</a></h4><ol><li>提供简单而有效的访问控制和日志记录功能。</li><li>容易安装和配置。</li><li>可以与其他网络服务（如 xinetd 和 inetd）配合使用，以增强服务器的安全性。</li></ol><p>虽然 TCP Wrappers 能够提供一定的网络服务保护，但是，这种保护并不是全方位的。具体来说，只有那些在编译时链接了 libwrap 库的服务才能受到 TCP Wrappers 的保护。此外，当面临一些复杂的网络攻击时，比如分布式拒绝服务攻击（DDoS），TCP Wrappers 可能无法提供充分的防护。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用命令-2">常用命令<a href="#常用命令-2" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 编辑 /etc/hosts.allow 文件以允许某个主机或主机组访问一个服务</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sshd : 192.168.1.0/255.255.255.0 : allow&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> /etc/hosts.allow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 编辑 /etc/hosts.deny 文件以拒绝某个主机或主机组访问一个服务</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sshd : 192.168.1.0/255.255.255.0 : deny&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> /etc/hosts.deny</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 使用 tcpdchk 命令检查 hosts.allow 和 hosts.deny 文件的语法和逻辑错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tcpdchk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 使用 tcpdmatch 命令模拟来自特定主机的连接请求，看它是否会被允许或拒绝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tcpdmatch sshd </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.1.100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>通过正确地配置和使用 TCP Wrappers，你可以大大提高你的服务器的安全性，并有能力追踪和控制对你的网络服务的访问。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="auditd">auditd<a href="#auditd" class="hash-link" aria-label="auditd的直接链接" title="auditd的直接链接">​</a></h3><p>Auditd 是 Linux 审计框架的核心组件，用于收集来自内核中的审计记录。它允许系统管理员跟踪在系统上发生的活动，以便在系统安全出现问题时追溯和分析。</p><p>Auditd 的起源可以追溯到 Linux 内核版本2.6的早期，当时引入了新的审计框架。该框架由内核部分（生成审计事件记录）和用户空间部分（接收和处理这些记录）组成。Auditd 就是用户空间部分的主要组件。</p><p>主要功能包括系统调用追踪、文件和目录访问监控、系统启动和关闭日志等。其主要用于帮助管理员诊断问题、满足合规性要求、并提高系统的安全性。</p><p>Auditd 的运行可以通过 service 或 systemctl 命令进行管理，如启动（service auditd start）、停止（service auditd stop）、查看状态（service auditd status）等。</p><p>Auditd 可以通过 audit.rules 文件配置审计规则，这些规则定义了应生成哪些类型的审计记录。例如，可以跟踪所有对特定文件的操作，或者监视所有的用户和组管理活动。审计规则的配置需要具有很高的灵活性和精确性，以便系统管理员可以精确地获取他们需要的信息。</p><p>然而，auditd 的使用和配置可能会相当复杂，需要一定的专业知识才能有效地使用。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="运行模式-1">运行模式<a href="#运行模式-1" class="hash-link" aria-label="运行模式的直接链接" title="运行模式的直接链接">​</a></h4><p>auditd 的运行模式主要是启动和停止，启动auditd后，它将开始收集审计事件并将其记录到日志文件中，通常是 /var/log/audit/audit.log。停止auditd后，系统将停止记录审计事件。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="优缺点-3">优缺点<a href="#优缺点-3" class="hash-link" aria-label="优缺点的直接链接" title="优缺点的直接链接">​</a></h4><ol><li>提供了详尽的系统活动日志记录，可以帮助系统管理员诊断问题、满足合规性要求，并提高系统的安全性。</li><li>审计规则的配置具有很高的灵活性和精确性。</li><li>广泛用于许多 Linux 发行版，如 <strong>Red Hat Enterprise Linux (RHEL)、CentOS 和 Fedora 等。</strong></li></ol><p>auditd 的主要缺点是配置和使用相对复杂，对于新手可能有些困难。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用命令-3">常用命令<a href="#常用命令-3" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 启动 auditd 服务</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start auditd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 停止 auditd 服务</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl stop auditd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 显示 auditd 服务状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl status auditd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 显示当前的审计规则</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auditctl -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 监控对 /etc/passwd 文件的写访问和更改属性操作</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auditctl -w /etc/passwd -p wa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 创建一个审计规则，用于记录所有因权限不足而失败的文件打开尝试</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auditctl -a always,exit -F </span><span class="token assign-left variable" style="color:#36acaa">arch</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">b64 -S </span><span class="token function" style="color:#d73a49">open</span><span class="token plain"> -F </span><span class="token assign-left variable" style="color:#36acaa">exit</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">-EACCES -k access_denied</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 搜索今天的所有 SELinux AVC 事件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ausearch -m avc -ts today</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 生成一个包含所有被执行程序的摘要报告</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aureport -x --summary</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="加密和认证技术">加密和认证技术<a href="#加密和认证技术" class="hash-link" aria-label="加密和认证技术的直接链接" title="加密和认证技术的直接链接">​</a></h2><p>加密和认证技术对于确保系统安全至关重要。以下是一些常见的加密和认证技术：</p><ol><li><strong>SSL和TLS</strong>：SSL（Secure Sockets Layer）和TLS（Transport Layer Security）是用于在网络通信中提供安全层的协议。它们用于保护数据的隐私和完整性。TLS是SSL的后续版本，目前更为常用。</li><li><strong>SSH</strong>：SSH（Secure Shell）是一种网络协议，用于安全地远程连接到服务器。SSH提供了强大的认证和安全通信功能，包括加密远程会话和传输文件。</li><li><strong>PGP（Pretty Good Privacy）</strong>：PGP是一种数据加密和解密程序，提供加密、解密和数字签名的服务。它常用于保护电子邮件的隐私和完整性，同时也可用于加密文件和存储设备。</li><li><strong>公钥基础设施（PKI）和证书颁发机构（CA）</strong>：PKI是一套基于公钥密码学的加密体系结构，用于生成、管理和分发数字证书。证书颁发机构是负责验证用户身份并颁发数字证书的可信实体。</li><li><strong>一次性密码（OTP）和多因素认证（MFA）</strong>：OTP是一种仅限单次使用的密码，用于增强身份验证的安全性。MFA要求用户提供两个或多个不同类型的身份验证因素，例如密码、指纹识别、硬件令牌或手机验证码。</li><li><strong>IPSec（Internet Protocol Security）</strong>：IPSec是一组协议和算法，用于在网络层提供数据的机密性、完整性和身份验证。它常用于虚拟私有网络（VPN）和远程访问连接的安全保护。</li><li><strong>数字证书</strong>：数字证书是由证书颁发机构颁发的电子文件，用于验证用户、服务器或组织的身份。数字证书使用公钥密码学来验证身份，并可用于安全通信和电子交易。</li><li><strong>访问控制列表（ACL）</strong>：ACL是一种用于控制网络设备上的流量的机制。它基于源IP地址、目标IP地址、协议和端口号等条件来决定数据包的接受或拒绝。</li><li><strong>防火墙</strong>：防火墙是一种网络安全设备，用于监控和控制进出网络的流量。它可以根据预定义的安全策略过滤流量，以阻止未经授权的访问和网络攻击。</li><li><strong>单点登录（SSO）</strong>：SSO是一种身份验证机制，允许用户使用单一的凭据（如用户名和密码）访问多个相关系统。这减少了用户需要记住多个凭据的负担，并提供了更方便的身份验证体验。</li><li><strong>加密硬件设备</strong>：加密硬件设备（如硬件安全模块）提供了物理级别的安全性，用于存储和处理敏感数据、生成和管理密钥，并执行加密操作。这些设备通常具有更高的安全性和防护能力。</li><li><strong>双因素认证（2FA）</strong>：双因素认证要求用户在登录过程中提供两个或多个不同类型的身份验证凭据，如密码、硬件令牌、指纹识别或短信验证码。这提供了更强的身份验证保护，即使密码被泄露也能降低风险。</li><li><strong>安全套接层虚拟专用网（SSL VPN）</strong>：SSL VPN是一种通过SSL/TLS协议提供远程访问安全性的技术。它允许用户通过加密通道连接到内部网络，并通过认证和授权机制进行访问控制。</li></ol><p>综上所述，系统安全涉及许多复杂的方面。了解和应用这些基本概念、原则以及正确使用相关工具和技术，对于有效保护信息系统免受威胁和攻击至关重要。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/operating-system/tags/linux">Linux</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://git.7wate.org/zhouzhongping/wiki/src/branch/master/wiki/operating-system/Linux/进阶/Linux 系统安全与防护.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->由 <b>7Wate</b> <!-- -->于 <b><time datetime="2023-07-04T06:21:24.000Z">2023年7月4日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/operating-system/Linux/进阶/Linux 日志监控"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Linux 日志监控</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#基本概念和原则" class="table-of-contents__link toc-highlight">基本概念和原则</a></li><li><a href="#常见的威胁和攻击" class="table-of-contents__link toc-highlight">常见的威胁和攻击</a></li><li><a href="#linux-安全性设置和机制" class="table-of-contents__link toc-highlight">Linux 安全性设置和机制</a><ul><li><a href="#selinux" class="table-of-contents__link toc-highlight">SELinux</a></li><li><a href="#apparmor" class="table-of-contents__link toc-highlight">AppArmor</a></li><li><a href="#selinux-与-apparmor-对比" class="table-of-contents__link toc-highlight">SELinux 与 AppArmor 对比</a></li><li><a href="#tcp-wrappers" class="table-of-contents__link toc-highlight">TCP Wrappers</a></li><li><a href="#auditd" class="table-of-contents__link toc-highlight">auditd</a></li></ul></li><li><a href="#加密和认证技术" class="table-of-contents__link toc-highlight">加密和认证技术</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Lei Cheng, Inc. Built with <a href="https://www.docusaurus.cn/" target="_blank" rel="noopener noreferrer">Docusaurus</a>.<br>Powered by <a href="https://vercel.com/" target="_blank" rel="noopener noreferrer">Vercel</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.5d1b5b77.js"></script>
<script src="/assets/js/main.45c06b54.js"></script>
</body>
</html>